<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸¡è¾ºãƒ‘ã‚¤ãƒ— é¡§å®¢èª²é¡Œè¨ºæ–­ãƒ„ãƒ¼ãƒ«</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Kaku Gothic Pro', 'Yu Gothic', sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: #00a0e9;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .progress-bar {
            background: #e5e7eb;
            height: 8px;
            margin: 0;
        }

        .progress-fill {
            background: #00a0e9;
            height: 100%;
            transition: width 0.3s ease;
        }

        .content {
            padding: 40px 30px;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step-title {
            font-size: 22px;
            color: #00a0e9;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #00a0e9;
        }

        .intro-text {
            font-size: 16px;
            line-height: 1.8;
            color: #374151;
            margin-bottom: 30px;
        }

        .benefits {
            background: #f0f9ff;
            border-left: 4px solid #00a0e9;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .benefits h3 {
            color: #00a0e9;
            font-size: 18px;
            margin-bottom: 15px;
        }

        .benefits ul {
            list-style: none;
            padding-left: 0;
        }

        .benefits li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: #1f2937;
        }

        .benefits li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #10b981;
            font-weight: bold;
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 10px;
            font-size: 16px;
        }

        input[type="text"], select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus, select:focus {
            outline: none;
            border-color: #00a0e9;
        }

        .checkbox-group {
            margin-bottom: 20px;
        }

        .section-header {
            background: #f3f4f6;
            padding: 15px 20px;
            margin: 30px -10px 20px -10px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            color: #00a0e9;
        }

        .checkbox-item {
            background: white;
            border: 2px solid #e5e7eb;
            padding: 15px;
            margin-bottom: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
        }

        .checkbox-item:hover {
            border-color: #00a0e9;
            background: #f9fafb;
        }

        .checkbox-item.checked {
            border-color: #00a0e9;
            background: #e6f7ff;
        }

        .checkbox-item input[type="checkbox"] {
            margin-right: 12px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .checkbox-item label {
            margin: 0;
            cursor: pointer;
            flex: 1;
            font-weight: 400;
        }

        .btn {
            background: #00a0e9;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0, 160, 233, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 160, 233, 0.4);
            background: #0090d1;
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
            box-shadow: 0 4px 15px rgba(107, 114, 128, 0.4);
        }

        .btn-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
        }

        .report-header {
            background: #00a0e9;
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .report-header h2 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .company-name {
            font-size: 28px;
            font-weight: bold;
            margin: 10px 0;
        }

        .score-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .score-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .score-label {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 10px;
        }

        .score-value {
            font-size: 36px;
            font-weight: bold;
            margin: 10px 0;
        }

        .score-high { color: #dc2626; }
        .score-medium { color: #f59e0b; }
        .score-low { color: #10b981; }

        .priority-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 5px;
        }

        .priority-high {
            background: #fee2e2;
            color: #dc2626;
        }

        .priority-medium {
            background: #fef3c7;
            color: #d97706;
        }

        .priority-low {
            background: #d1fae5;
            color: #059669;
        }

        .solution-section {
            background: #f9fafb;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            border: 2px solid #00a0e9;
        }

        .solution-section h3 {
            color: #00a0e9;
            font-size: 22px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #00a0e9;
        }

        .solution-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #00a0e9;
        }

        .solution-item h4 {
            color: #00a0e9;
            font-size: 18px;
            margin-bottom: 15px;
        }

        .solution-item p {
            color: #4b5563;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .solution-benefit {
            background: #e6f7ff;
            padding: 10px 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 14px;
            color: #00a0e9;
        }

        .partner-section {
            background: #f0f4ff;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            border: 2px solid #2c5dff;
        }

        .partner-section h3 {
            color: #2c5dff;
            font-size: 20px;
            margin-bottom: 20px;
        }

        .partner-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #2c5dff;
        }

        .partner-item h4 {
            color: #2c5dff;
            font-size: 16px;
            margin-bottom: 10px;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .action-btn {
            padding: 15px 20px;
            border: 2px solid #e5e7eb;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .action-btn:hover {
            border-color: #00a0e9;
            background: #e6f7ff;
        }

        .action-btn.selected {
            border-color: #00a0e9;
            background: #e6f7ff;
        }

        @media (max-width: 768px) {
            .content {
                padding: 30px 20px;
            }

            .step-title {
                font-size: 20px;
            }

            .btn-group {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>é¡§å®¢èª²é¡Œè¨ºæ–­ãƒ„ãƒ¼ãƒ«</h1>
            <p>ã‚ãšã‹3åˆ†ã§ã€ãŠå®¢æ§˜ã®çµŒå–¶èª²é¡Œã‚’å¯è¦–åŒ–</p>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressBar" style="width: 0%"></div>
        </div>

        <div class="content">
            <!-- Screen 1: Start -->
            <div class="screen active" id="screen1">
                <div class="step-title">é¡§å®¢èª²é¡Œè¨ºæ–­ãƒ„ãƒ¼ãƒ«ã¸ã‚ˆã†ã“ã</div>
                <div class="intro-text">
                    ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ã€ãŠå®¢æ§˜ã®çµŒå–¶èª²é¡Œã‚’çŸ­æ™‚é–“ã§æŠŠæ¡ã—ã€æœ€é©ãªè§£æ±ºç­–ã‚’ã”ææ¡ˆã™ã‚‹ãŸã‚ã®è¨ºæ–­ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚
                </div>

                <div class="benefits">
                    <h3>ã“ã®ãƒ„ãƒ¼ãƒ«ã§ã§ãã‚‹ã“ã¨</h3>
                    <ul>
                        <li>è³‡æã‚³ã‚¹ãƒˆãƒ»é…é€ãƒ»èª¿é”ã«é–¢ã™ã‚‹èª²é¡Œã‚’å¯è¦–åŒ–</li>
                        <li>æ¸¡è¾ºãƒ‘ã‚¤ãƒ—ã®å…·ä½“çš„ãªè§£æ±ºç­–ã‚’ãã®å ´ã§æç¤º</li>
                        <li>æ¡ç”¨ãƒ»é›†å®¢ãªã©ã®çµŒå–¶èª²é¡Œã‚‚è¨ºæ–­</li>
                        <li>è¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆã‚’ãã®å ´ã§ç¢ºèªãƒ»ä¿å­˜å¯èƒ½</li>
                    </ul>
                </div>

                <div class="intro-text">
                    æ‰€è¦æ™‚é–“ã¯ã‚ãšã‹<strong>2ã€œ3åˆ†</strong>ã§ã™ã€‚<br>
                    ãƒã‚§ãƒƒã‚¯é …ç›®ã«ç­”ãˆã‚‹ã ã‘ã§ã€ãŠå®¢æ§˜ã«æœ€é©ãªææ¡ˆã‚’ãƒ¬ãƒãƒ¼ãƒˆå½¢å¼ã§ãŠè¦‹ã›ã§ãã¾ã™ã€‚
                </div>

                <div class="btn-group">
                    <button class="btn" onclick="nextScreen(2)">è¨ºæ–­ã‚’å§‹ã‚ã‚‹</button>
                </div>
            </div>

            <!-- Screen 2: Basic Info -->
            <div class="screen" id="screen2">
                <div class="step-title">åŸºæœ¬æƒ…å ±ã®å…¥åŠ›</div>

                <div class="form-group">
                    <label for="companyName">ä¼šç¤¾å</label>
                    <input type="text" id="companyName" placeholder="ä¾‹ï¼šæ ªå¼ä¼šç¤¾ã€‡ã€‡å·¥æ¥­">
                </div>

                <div class="form-group">
                    <label for="businessType">æ¥­æ…‹</label>
                    <select id="businessType">
                        <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                        <option value="æ°´å·¥">æ°´å·¥</option>
                        <option value="é›»å·¥">é›»å·¥</option>
                        <option value="åœŸæœ¨">åœŸæœ¨</option>
                        <option value="è¨­å‚™">è¨­å‚™</option>
                        <option value="ä½è¨­">ä½è¨­</option>
                    </select>
                </div>

                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="nextScreen(1)">æˆ»ã‚‹</button>
                    <button class="btn" onclick="validateBasicInfo()">æ¬¡ã¸</button>
                </div>
            </div>

            <!-- Screen 3: Questionnaire -->
            <div class="screen" id="screen3">
                <div class="step-title">èª²é¡Œã®ãƒ’ã‚¢ãƒªãƒ³ã‚°</div>
                <p style="margin-bottom: 30px; color: #6b7280;">è©²å½“ã™ã‚‹é …ç›®ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ãã ã•ã„ï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰</p>

                <div class="section-header">ğŸ’¼ è³‡æãƒ»èª¿é”ãƒ»å·¥äº‹ã«é–¢ã™ã‚‹èª²é¡Œ</div>
                <div class="checkbox-group" id="watanabeIssues">
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue1" value="è³‡æã‚³ã‚¹ãƒˆé«˜é¨°">
                        <label for="issue1">è³‡æã‚³ã‚¹ãƒˆãŒé«˜é¨°ã—ã¦åˆ©ç›ŠãŒåœ§è¿«ã•ã‚Œã¦ã„ã‚‹</label>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue2" value="è³‡æèª¿é”ä¸å®‰å®š">
                        <label for="issue2">å¿…è¦ãªæ™‚ã«å¿…è¦ãªè³‡æãŒå…¥æ‰‹ã§ããªã„ã“ã¨ãŒã‚ã‚‹</label>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue3" value="ä»•å…¥ã‚Œå…ˆç®¡ç†ç…©é›‘">
                        <label for="issue3">è¤‡æ•°ã®ä»•å…¥ã‚Œå…ˆã‹ã‚‰èª¿é”ã—ã¦ã„ã¦ç®¡ç†ãŒç…©é›‘</label>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue4" value="é…é€æ™‚é–“ãƒ»è²»ç”¨è² æ‹…">
                        <label for="issue4">é…é€æ™‚é–“ãƒ»é…é€è²»ç”¨ãŒè² æ‹…ã«ãªã£ã¦ã„ã‚‹</label>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue5" value="è³‡æãƒ­ã‚¹ãƒ»ä½™å‰°åœ¨åº«">
                        <label for="issue5">ç¾å ´ã§ã®è³‡æãƒ­ã‚¹ã‚„ä½™å‰°åœ¨åº«ãŒå¤šã„</label>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue6" value="æ–°å•†å“æƒ…å ±ä¸è¶³">
                        <label for="issue6">æ–°å•†å“ãƒ»ä»£æ›¿å“ã®æƒ…å ±ãŒä¸è¶³ã—ã¦ã„ã‚‹</label>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue7" value="æ–½å·¥æ–¹æ³•ç›¸è«‡">
                        <label for="issue7">æ–½å·¥æ–¹æ³•ã‚„å·¥æ³•ã«ã¤ã„ã¦ç›¸è«‡ã—ãŸã„ã“ã¨ãŒã‚ã‚‹</label>
                    </div>
                </div>

                <div class="section-header">ğŸ“Š çµŒå–¶ãƒ»äººæãƒ»å–¶æ¥­ã«é–¢ã™ã‚‹èª²é¡Œ</div>
                <div class="checkbox-group" id="businessIssues">
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue8" value="äººæä¸è¶³">
                        <label for="issue8">è·äººãƒ»æŠ€è¡“è€…ãŒè¶³ã‚Šãªã„</label>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue9" value="è‹¥æ‰‹æ¡ç”¨é›£">
                        <label for="issue9">è‹¥æ‰‹ãŒæ¡ç”¨ã§ããªã„</label>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue10" value="é«˜å˜ä¾¡æ¡ˆä»¶ç²å¾—é›£">
                        <label for="issue10">å˜ä¾¡ã®é«˜ã„ä»•äº‹ãŒå–ã‚Œãªã„</label>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue11" value="æ–°è¦é¡§å®¢é–‹æ‹“é›£">
                        <label for="issue11">æ–°è¦é¡§å®¢ã®é–‹æ‹“ãŒã§ãã¦ã„ãªã„</label>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue12" value="è¦‹ç©ä½œæˆéåŠ¹ç‡">
                        <label for="issue12">è¦‹ç©ä½œæˆã«æ™‚é–“ãŒã‹ã‹ã‚‹</label>
                    </div>
                    <div class="checkbox-item" onclick="toggleCheckbox(this)">
                        <input type="checkbox" id="issue13" value="å·¥ç¨‹ç®¡ç†å±äººåŒ–">
                        <label for="issue13">å·¥ç¨‹ç®¡ç†ãŒå±äººåŒ–ã—ã¦ã„ã‚‹</label>
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn btn-secondary" onclick="nextScreen(2)">æˆ»ã‚‹</button>
                    <button class="btn" onclick="generateReport()">è¨ºæ–­çµæœã‚’è¦‹ã‚‹</button>
                </div>
            </div>

            <!-- Screen 4: Report -->
            <div class="screen" id="screen4">
                <div class="report-header">
                    <h2>çµŒå–¶èª²é¡Œè¨ºæ–­ãƒ¬ãƒãƒ¼ãƒˆ</h2>
                    <div class="company-name" id="reportCompanyName"></div>
                    <div id="reportBusinessType"></div>
                </div>

                <div class="score-grid">
                    <div class="score-card">
                        <div class="score-label">æ¸¡è¾ºãƒ‘ã‚¤ãƒ—ææ¡ˆé ˜åŸŸ</div>
                        <div class="score-value score-high" id="watanabeScore">0</div>
                        <div class="priority-badge priority-high" id="watanabePriority">ç·Šæ€¥åº¦: é«˜</div>
                    </div>
                    <div class="score-card">
                        <div class="score-label">çµŒå–¶èª²é¡Œé ˜åŸŸ</div>
                        <div class="score-value score-medium" id="businessScore">0</div>
                        <div class="priority-badge priority-medium" id="businessPriority">ç·Šæ€¥åº¦: ä¸­</div>
                    </div>
                </div>

                <div id="watanabeSolutions"></div>
                <div id="partnerSolutions"></div>

                <div style="background: #f0f9ff; padding: 25px; border-radius: 15px; margin-top: 30px;">
                    <h3 style="color: #00a0e9; margin-bottom: 15px;">æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</h3>
                    <div class="action-buttons">
                        <div class="action-btn" onclick="toggleAction(this)">
                            <strong>ğŸ“§ ãƒ¬ãƒãƒ¼ãƒˆã‚’ãƒ¡ãƒ¼ãƒ«é€ä¿¡</strong><br>
                            <small>é¡§å®¢ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’å…±æœ‰</small>
                        </div>
                        <div class="action-btn" onclick="toggleAction(this)">
                            <strong>ğŸ“‹ ææ¡ˆæ›¸ã‚’ä½œæˆ</strong><br>
                            <small>æ¬¡å›è¨ªå•æ™‚ã«æŒå‚</small>
                        </div>
                        <div class="action-btn" onclick="toggleAction(this)">
                            <strong>ğŸ¤ å¤–éƒ¨ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ç´¹ä»‹</strong><br>
                            <small>BRANUã¸ãƒˆã‚¹ã‚¢ãƒƒãƒ—</small>
                        </div>
                    </div>
                </div>

                <div class="btn-group" style="margin-top: 30px;">
                    <button class="btn btn-secondary" onclick="nextScreen(1)">æœ€åˆã«æˆ»ã‚‹</button>
                    <button class="btn" onclick="alert('è¨ºæ–­ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã¾ã—ãŸ')">è¨ºæ–­ã‚’ä¿å­˜</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentScreen = 1;
        const totalScreens = 4;

        function nextScreen(screenNumber) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById('screen' + screenNumber).classList.add('active');
            currentScreen = screenNumber;
            updateProgress();
            window.scrollTo(0, 0);
        }

        function updateProgress() {
            const progress = ((currentScreen - 1) / (totalScreens - 1)) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function validateBasicInfo() {
            const companyName = document.getElementById('companyName').value;
            const businessType = document.getElementById('businessType').value;

            if (!companyName || !businessType) {
                alert('ä¼šç¤¾åã¨æ¥­æ…‹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            nextScreen(3);
        }

        function toggleCheckbox(element) {
            const checkbox = element.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;
            element.classList.toggle('checked', checkbox.checked);
        }

        function generateReport() {
            const companyName = document.getElementById('companyName').value;
            const businessType = document.getElementById('businessType').value;

            // Count checked issues
            let watanabeCount = 0;
            let businessCount = 0;
            let watanabeIssues = [];
            let businessIssues = [];

            for (let i = 1; i <= 7; i++) {
                const checkbox = document.getElementById('issue' + i);
                if (checkbox.checked) {
                    watanabeCount++;
                    watanabeIssues.push(checkbox.value);
                }
            }

            for (let i = 8; i <= 13; i++) {
                const checkbox = document.getElementById('issue' + i);
                if (checkbox.checked) {
                    businessCount++;
                    businessIssues.push(checkbox.value);
                }
            }

            // Update report header
            document.getElementById('reportCompanyName').textContent = companyName + ' æ§˜';
            document.getElementById('reportBusinessType').textContent = 'æ¥­æ…‹: ' + businessType;

            // Update scores
            document.getElementById('watanabeScore').textContent = watanabeCount;
            document.getElementById('businessScore').textContent = businessCount;

            // Update priority badges
            const watanabePriority = watanabeCount >= 4 ? 'ç·Šæ€¥åº¦: é«˜' : watanabeCount >= 2 ? 'ç·Šæ€¥åº¦: ä¸­' : 'ç·Šæ€¥åº¦: ä½';
            const businessPriority = businessCount >= 3 ? 'ç·Šæ€¥åº¦: é«˜' : businessCount >= 2 ? 'ç·Šæ€¥åº¦: ä¸­' : 'ç·Šæ€¥åº¦: ä½';

            document.getElementById('watanabePriority').textContent = watanabePriority;
            document.getElementById('watanabePriority').className = 'priority-badge ' + 
                (watanabeCount >= 4 ? 'priority-high' : watanabeCount >= 2 ? 'priority-medium' : 'priority-low');

            document.getElementById('businessPriority').textContent = businessPriority;
            document.getElementById('businessPriority').className = 'priority-badge ' + 
                (businessCount >= 3 ? 'priority-high' : businessCount >= 2 ? 'priority-medium' : 'priority-low');

            // Generate Watanabe solutions
            let watanabeSolutionsHTML = '';
            if (watanabeCount > 0) {
                watanabeSolutionsHTML = '<div class="solution-section"><h3>ğŸ”§ æ¸¡è¾ºãƒ‘ã‚¤ãƒ—ã®ã”ææ¡ˆ</h3>';

                if (watanabeIssues.includes('è³‡æã‚³ã‚¹ãƒˆé«˜é¨°')) {
                    watanabeSolutionsHTML += `
                        <div class="solution-item">
                            <h4>è³‡æã‚³ã‚¹ãƒˆå‰Šæ¸›ãƒ—ãƒ­ã‚°ãƒ©ãƒ </h4>
                            <p>è¤‡æ•°ã®ä»•å…¥ã‚Œå…ˆã‚’æ¸¡è¾ºãƒ‘ã‚¤ãƒ—ã«ä¸€æœ¬åŒ–ã™ã‚‹ã“ã¨ã§ã€ãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒ‡ã‚£ã‚¹ã‚«ã‚¦ãƒ³ãƒˆã‚’é©ç”¨ã„ãŸã—ã¾ã™ã€‚</p>
                            <div class="solution-benefit">ğŸ’° åŠ¹æœ: å¹´é–“è³¼å…¥é¡ã«å¿œã˜ã¦æœ€å¤§15%ã®ã‚³ã‚¹ãƒˆå‰Šæ¸›</div>
                            <div class="solution-benefit">ğŸ“Š å®Ÿç¸¾: åŒè¦æ¨¡ä¼æ¥­ã§å¹³å‡8-12%ã®å‰Šæ¸›ã‚’å®Ÿç¾</div>
                        </div>
                    `;
                }

                if (watanabeIssues.includes('é…é€æ™‚é–“ãƒ»è²»ç”¨è² æ‹…')) {
                    watanabeSolutionsHTML += `
                        <div class="solution-item">
                            <h4>ç¾å ´ç›´é€ãƒ»æ™‚é–“æŒ‡å®šé…é€ã‚µãƒ¼ãƒ“ã‚¹</h4>
                            <p>å·¥äº‹ç¾å ´ã¸ã®ç›´æ¥é…é€ã€æ™‚é–“å¸¯æŒ‡å®šã«ã‚ˆã‚Šã€è·äººã®æ‰‹å¾…ã¡æ™‚é–“ã‚’ã‚¼ãƒ­ã«ã€‚</p>
                            <div class="solution-benefit">â±ï¸ åŠ¹æœ: åˆå‰æ³¨æ–‡â†’å½“æ—¥åˆå¾Œé…é€ã‚‚å¯èƒ½</div>
                            <div class="solution-benefit">ğŸ’µ åŠ¹æœ: é…é€è²»20-30%å‰Šæ¸›ã®å®Ÿç¸¾</div>
                        </div>
                    `;
                }

                if (watanabeIssues.includes('ä»•å…¥ã‚Œå…ˆç®¡ç†ç…©é›‘') || watanabeIssues.includes('è³‡æèª¿é”ä¸å®‰å®š')) {
                    watanabeSolutionsHTML += `
                        <div class="solution-item">
                            <h4>åœ¨åº«æœ€é©åŒ–ãƒ»å®šæœŸé…é€ã‚µãƒ¼ãƒ“ã‚¹</h4>
                            <p>ä½¿ç”¨é »åº¦ã®é«˜ã„è³‡æã‚’å®šæœŸé…é€ã€‚æ€¥ãªç™ºæ³¨ã«ã‚‚å³æ—¥å¯¾å¿œå¯èƒ½ãªä½“åˆ¶ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚</p>
                            <div class="solution-benefit">ğŸ“¦ åŠ¹æœ: åœ¨åº«ç®¡ç†ã‚³ã‚¹ãƒˆå‰Šæ¸›ã€æ©Ÿä¼šæå¤±é˜²æ­¢</div>
                            <div class="solution-benefit">ğŸšš åŠ¹æœ: ç·Šæ€¥æ™‚ã‚‚å®‰å¿ƒã®ä¾›çµ¦ä½“åˆ¶</div>
                        </div>
                    `;
                }

                if (watanabeIssues.includes('æ–°å•†å“æƒ…å ±ä¸è¶³') || watanabeIssues.includes('æ–½å·¥æ–¹æ³•ç›¸è«‡')) {
                    watanabeSolutionsHTML += `
                        <div class="solution-item">
                            <h4>æŠ€è¡“ã‚µãƒãƒ¼ãƒˆãƒ»å•†å“æƒ…å ±æä¾›</h4>
                            <p>æ–°å·¥æ³•ã€æ–°å•†æã®æƒ…å ±æä¾›ã‹ã‚‰ã€æ–½å·¥æ–¹æ³•ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã¾ã§æŠ€è¡“ã‚µãƒãƒ¼ãƒˆã„ãŸã—ã¾ã™ã€‚</p>
                            <div class="solution-benefit">ğŸ” åŠ¹æœ: æ¥­ç•Œæœ€æ–°æƒ…å ±ã‚’ã„ã¡æ—©ãã‚­ãƒ£ãƒƒãƒ</div>
                            <div class="solution-benefit">ğŸ‘¨â€ğŸ« åŠ¹æœ: å°‚é–€ã‚¹ã‚¿ãƒƒãƒ•ã«ã‚ˆã‚‹æŠ€è¡“ç›¸è«‡</div>
                        </div>
                    `;
                }

                watanabeSolutionsHTML += '</div>';
            }

            // Generate partner solutions
            let partnerSolutionsHTML = '';
            if (businessCount > 0) {
                partnerSolutionsHTML = '<div class="partner-section"><h3>ğŸ’¡ å¤–éƒ¨ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®ã”ç´¹ä»‹ã‚‚å¯èƒ½ã§ã™</h3>';
                partnerSolutionsHTML += '<p style="margin-bottom: 20px; color: #2c5dff;">æ¸¡è¾ºãƒ‘ã‚¤ãƒ—ã®å°‚é–€å¤–ã¨ãªã‚Šã¾ã™ãŒã€ä¿¡é ¼ã§ãã‚‹ææºå…ˆã‚’ã”ç´¹ä»‹ã§ãã¾ã™ã€‚</p>';

                if (businessIssues.includes('äººæä¸è¶³') || businessIssues.includes('è‹¥æ‰‹æ¡ç”¨é›£')) {
                    partnerSolutionsHTML += `
                        <div class="partner-item">
                            <h4>ğŸ“¢ æ¡ç”¨èª²é¡Œã®è§£æ±º â†’ BRANUæ ªå¼ä¼šç¤¾</h4>
                            <p>æ¡ç”¨ç‰¹åŒ–å‹Webã‚µã‚¤ãƒˆåˆ¶ä½œã§ã€è‹¥æ‰‹ã‹ã‚‰ã®å¿œå‹Ÿæ•°ã‚’3ã€œ5å€ã«å¢—åŠ ã•ã›ãŸå®Ÿç¸¾ãŒã‚ã‚Šã¾ã™ã€‚</p>
                            <p><small>å»ºè¨­æ¥­ç•Œã§ã®å®Ÿç¸¾å¤šæ•° / æ¡ç”¨ã‚µã‚¤ãƒˆåˆ¶ä½œãƒ»é‹ç”¨ã‚µãƒãƒ¼ãƒˆ</small></p>
                        </div>
                    `;
                }

                if (businessIssues.includes('é«˜å˜ä¾¡æ¡ˆä»¶ç²å¾—é›£') || businessIssues.includes('æ–°è¦é¡§å®¢é–‹æ‹“é›£')) {
                    partnerSolutionsHTML += `
                        <div class="partner-item">
                            <h4>ğŸŒ é›†å®¢ãƒ»å—æ³¨å¼·åŒ– â†’ BRANUæ ªå¼ä¼šç¤¾</h4>
                            <p>æ–½å·¥äº‹ä¾‹ã‚’é­…åŠ›çš„ã«ç™ºä¿¡ã—ã€é«˜å˜ä¾¡æ¡ˆä»¶ã‚’æ±‚ã‚ã‚‹é¡§å®¢ã‹ã‚‰ã®å•ã„åˆã‚ã›ã‚’å¢—ã‚„ã—ã¾ã™ã€‚</p>
                            <p><small>é›†å®¢ç”¨Webã‚µã‚¤ãƒˆåˆ¶ä½œ / SEOå¯¾ç­– / é‹ç”¨ã‚µãƒãƒ¼ãƒˆ</small></p>
                        </div>
                    `;
                }

                if (businessIssues.includes('è¦‹ç©ä½œæˆéåŠ¹ç‡') || businessIssues.includes('å·¥ç¨‹ç®¡ç†å±äººåŒ–')) {
                    partnerSolutionsHTML += `
                        <div class="partner-item">
                            <h4>âš™ï¸ æ¥­å‹™åŠ¹ç‡åŒ–ã‚·ã‚¹ãƒ†ãƒ  â†’ ææºITãƒ™ãƒ³ãƒ€ãƒ¼</h4>
                            <p>è¦‹ç©ä½œæˆã€å·¥ç¨‹ç®¡ç†ã‚’ã‚·ã‚¹ãƒ†ãƒ åŒ–ã€‚æ¥­å‹™åŠ¹ç‡ã‚’å¤§å¹…ã«å‘ä¸Šã•ã›ã¾ã™ã€‚</p>
                            <p><small>ã‚¯ãƒ©ã‚¦ãƒ‰å‹æ¥­å‹™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ  / å°å…¥ã‚µãƒãƒ¼ãƒˆ</small></p>
                        </div>
                    `;
                }

                partnerSolutionsHTML += '</div>';
            }

            document.getElementById('watanabeSolutions').innerHTML = watanabeSolutionsHTML;
            document.getElementById('partnerSolutions').innerHTML = partnerSolutionsHTML;

            nextScreen(4);
        }

        function toggleAction(element) {
            element.classList.toggle('selected');
        }

        // Initialize
        updateProgress();
    </script>
</body>
</html>